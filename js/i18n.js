const translations = {
    en: {
        // Navigation
        "nav.features": "Features",
        "nav.howItWorks": "How It Works",
        "nav.security": "Security",
        "nav.pricing": "Pricing",
        "nav.login": "Log In",
        "nav.getStarted": "Get Started",
        "nav.backToHome": "Back to Home",

        // Hero
        "hero.badge": "Ready to protect your business from AI data leakage",
        "hero.title.prefix": "Clear Shadow AI Risks",
        "hero.title.suffix": "With Sanitized Ai",
        "hero.subtitle": "Monitor, detect, and protect against unauthorized AI usage across your organization. Catch PII leaks and sensitive data exposure in LLM prompts before they become breaches.",
        "hero.cta.access": "Request Early Access",
        "hero.cta.demo": "Start Interactive Demo",
        "hero.trusted": "Trusted by security teams at leading enterprises",
        "hero.trusted.fortune": "Fortune 500",
        "hero.trusted.enterprise": "Enterprise",
        "hero.trusted.startup": "Startup",
        "hero.trusted.government": "Government",
        "hero.trusted.healthcare": "Healthcare",

        // Features
        "features.eyebrow": "Features",
        "features.title.prefix": "Complete Visibility Into",
        "features.title.suffix": "Enterprise AI Usage",
        "features.subtitle": "Everything you need to monitor, control, and secure AI adoption across your organization.",
        "features.card1.title": "Shadow AI Detection",
        "features.card1.desc": "Automatically discover and track all AI tools being used across your organization, including ChatGPT, Claude, Gemini, and more.",
        "features.card2.title": "PII Leak Prevention",
        "features.card2.desc": "Real-time scanning of prompts to detect and block sensitive data including SSNs, credit cards, health records, and proprietary information.",
        "features.card3.title": "Prompt Privacy",
        "features.card3.desc": "Admins see only flagged content, not the full prompt. Conversations remain private.",
        "features.card4.title": "Risk Dashboards",
        "features.card4.desc": "Executive-ready reporting with risk scores, trend analysis, and actionable insights for your security posture.",
        "features.card5.title": "Policy Enforcement",
        "features.card5.desc": "Define and enforce AI usage policies at the organizational level. Block, warn, or allow with full audit trails.",
        "features.card6.title": "Team Insights",
        "features.card6.desc": "Understand AI adoption patterns across departments. Identify training needs and optimize productivity safely.",

        // How It Works
        "how.eyebrow": "How It Works",
        "how.title.prefix": "From Deployment to",
        "how.title.suffix": "Protection in Minutes",
        "how.subtitle": "Get started quickly with our streamlined onboarding process. No complicated setup required.",
        "how.step1.title": "Deploy in Minutes",
        "how.step1.desc": "Quick browser extension deployment or API integration. No complex infrastructure changes required.",
        "how.step2.title": "Monitor Everything",
        "how.step2.desc": "Automatically detect AI tool usage and scan all prompts for sensitive data in real-time.",
        "how.step3.title": "Get Alerted",
        "how.step3.desc": "Receive instant notifications when policy violations or data leaks are detected.",
        "how.step4.title": "Stay Compliant",
        "how.step4.desc": "Generate audit-ready reports and maintain compliance with data protection regulations.",

        // Security
        "security.eyebrow": "Enterprise Security",
        "security.title.prefix": "Security You Can",
        "security.title.suffix": "Trust and Verify",
        "security.subtitle": "Built from the ground up with enterprise security requirements in mind. Your data never leaves your control, and we maintain the highest security standards.",
        "security.dashboard.uptime": "Uptime SLA",
        "security.dashboard.breaches": "Data Breaches",
        "security.check.encryption": "Encryption verified...",
        "security.check.tokens": "Auth tokens rotated...",
        "security.check.logs": "Audit logs synced...",
        "security.check.monitoring": "Monitoring active...",

        // Pricing
        "pricing.badge": "Enterprise Ready",
        "pricing.title.prefix": "Tailored for Your",
        "pricing.title.suffix": "Enterprise",
        "pricing.subtitle": "Get full visibility and control over your AI usage today. We offer custom deployment options, dedicated support, and volume licensing.",
        "pricing.feature.seats": "Unlimited Seats",
        "pricing.feature.pii": "Custom PII Detection",
        "pricing.feature.support": "Dedicated Support",
        "pricing.cta": "Contact Sales",

        // Footer
        "footer.rights": "© 2026 Sanitized AI Inc. All rights reserved.",
        "footer.linkedin": "Follow us on LinkedIn",

        // Intake Form
        "intake.title.prefix": "Get Started with",
        "intake.subtitle": "Complete the form below to request early access or schedule a demo.",
        "intake.label.name": "Full Name",
        "intake.placeholder.name": "John Doe",
        "intake.label.email": "Work Email",
        "intake.placeholder.email": "john@company.com",
        "intake.label.company": "Company Name",
        "intake.placeholder.company": "Acme Inc.",
        "intake.label.role": "Role",
        "intake.placeholder.role": "e.g. CISO, CTO",
        "intake.label.interest": "I am interested in...",
        "intake.option.access": "Requesting Early Access",
        "intake.option.demo": "Booking a Demo",
        "intake.option.general": "General Inquiry",
        "intake.label.message": "Message (Optional)",
        "intake.placeholder.message": "Tell us about your needs...",
        "intake.submit": "Submit Request",

        // Demo (Dynamic Strings)
        "demo.loading": "Loading Demo...",
        "demo.intro.subtitle": "Real-time Risk Management for AI",
        "demo.intro.start": "Start Interactive Demo",
        "demo.restart": "Restart Demo",
        "demo.step1": "User makes sure they have the extension installed",
        "demo.step2": "User Types Their Prompt",
        "demo.step3": "User Sends Prompt",
        "demo.step4": "Insert Sanitized Prompt",
        "demo.step4_annotation": "Once a prompt is flagged, users can choose how they want to move forward. Sanitized Ai lets the user choose the level of risk they want to take.",
        "demo.step5": "Once the User Confirms the Replacement, the prompt is released and sent off.",
        "demo.transition.title": "Risk Manager View",
        "demo.transition.subtitle": "Reviewing anonymous risk events and insights.",
        "demo.transition.continue": "Continue",
        "demo.step6": "Risk Managers Can View Data Insights"
    },
    fr: {
        // Navigation
        "nav.features": "Fonctionnalités",
        "nav.howItWorks": "Comment ça marche",
        "nav.security": "Sécurité",
        "nav.pricing": "Tarifs",
        "nav.login": "Connexion",
        "nav.getStarted": "Commencer",
        "nav.backToHome": "Retour à l'accueil",

        // Hero
        "hero.badge": "Prêt à protéger votre entreprise contre les fuites de données IA",
        "hero.title.prefix": "Éliminez les risques du Shadow AI",
        "hero.title.suffix": "Avec Sanitized Ai",
        "hero.subtitle": "Surveillez, détectez et protégez-vous contre l'utilisation non autorisée de l'IA dans votre entreprise. Interceptez les fuites de PII et l'exposition de données sensibles dans les prompts LLM avant qu'elles ne deviennent des brèches.",
        "hero.cta.access": "Demander un accès anticipé",
        "hero.cta.demo": "Lancer la démo interactive",
        "hero.trusted": "Reconnu par les équipes de sécurité des grandes entreprises",
        "hero.trusted.fortune": "Fortune 500",
        "hero.trusted.enterprise": "Entreprise",
        "hero.trusted.startup": "Startup",
        "hero.trusted.government": "Gouvernement",
        "hero.trusted.healthcare": "Santé",

        // Features
        "features.eyebrow": "Fonctionnalités",
        "features.title.prefix": "Visibilité complète sur",
        "features.title.suffix": "L'utilisation de l'IA en entreprise",
        "features.subtitle": "Tout ce dont vous avez besoin pour surveiller, contrôler et sécuriser l'adoption de l'IA dans votre organisation.",
        "features.card1.title": "Détection du Shadow AI",
        "features.card1.desc": "Découvrez et suivez automatiquement tous les outils d'IA utilisés dans votre organisation, y compris ChatGPT, Claude, Gemini et plus encore.",
        "features.card2.title": "Prévention des fuites de PII",
        "features.card2.desc": "Analyse en temps réel des prompts pour détecter et bloquer les données sensibles, incluant les numéros de sécurité sociale, cartes bancaires, dossiers médicaux et informations propriétaires.",
        "features.card3.title": "Confidentialité des prompts",
        "features.card3.desc": "Les administrateurs ne voient que le contenu signalé, pas le prompt complet. Les conversations restent privées.",
        "features.card4.title": "Tableaux de bord des risques",
        "features.card4.desc": "Rapports prêts pour la direction avec scores de risque, analyse des tendances et informations exploitables pour votre posture de sécurité.",
        "features.card5.title": "Application des politiques",
        "features.card5.desc": "Définissez et appliquez des politiques d'utilisation de l'IA au niveau organisationnel. Bloquez, avertissez ou autorisez avec des pistes d'audit complètes.",
        "features.card6.title": "Insights d'équipe",
        "features.card6.desc": "Comprenez les modèles d'adoption de l'IA dans les départements. Identifiez les besoins de formation et optimisez la productivité en toute sécurité.",

        // How It Works
        "how.eyebrow": "Comment ça marche",
        "how.title.prefix": "Du déploiement à",
        "how.title.suffix": "La protection en quelques minutes",
        "how.subtitle": "Commencez rapidement avec notre processus d'intégration simplifié. Aucune configuration complexe requise.",
        "how.step1.title": "Déployez en quelques minutes",
        "how.step1.desc": "Déploiement rapide d'extension de navigateur ou intégration API. Pas de changements d'infrastructure complexes requis.",
        "how.step2.title": "Surveillez tout",
        "how.step2.desc": "Détectez automatiquement l'utilisation des outils d'IA et analysez tous les prompts pour les données sensibles en temps réel.",
        "how.step3.title": "Soyez alerté",
        "how.step3.desc": "Recevez des notifications instantanées lorsque des violations de politique ou des fuites de données sont détectées.",
        "how.step4.title": "Restez conforme",
        "how.step4.desc": "Générez des rapports prêts pour l'audit et maintenez la conformité avec les réglementations de protection des données.",

        // Security
        "security.eyebrow": "Sécurité Entreprise",
        "security.title.prefix": "Une sécurité que vous pouvez",
        "security.title.suffix": "Vérifier et en laquelle vous pouvez avoir confiance",
        "security.subtitle": "Conçu dès le départ avec les exigences de sécurité des entreprises à l'esprit. Vos données ne quittent jamais votre contrôle, et nous maintenons les normes de sécurité les plus élevées.",
        "security.dashboard.uptime": "SLA de disponibilité",
        "security.dashboard.breaches": "Violations de données",
        "security.check.encryption": "Chiffrement vérifié...",
        "security.check.tokens": "Tokens d'auth renouvelés...",
        "security.check.logs": "Logs d'audit synchronisés...",
        "security.check.monitoring": "Surveillance active...",

        // Pricing
        "pricing.badge": "Prêt pour l'entreprise",
        "pricing.title.prefix": "Adapté pour votre",
        "pricing.title.suffix": "Entreprise",
        "pricing.subtitle": "Obtenez une visibilité et un contrôle complets sur votre utilisation de l'IA dès aujourd'hui. Nous proposons des options de déploiement personnalisées, un support dédié et des licences en volume.",
        "pricing.feature.seats": "Sièges illimités",
        "pricing.feature.pii": "Détection PII personnalisée",
        "pricing.feature.support": "Support dédié",
        "pricing.cta": "Contacter les ventes",

        // Footer
        "footer.rights": "© 2026 Sanitized AI Inc. Tous droits réservés.",
        "footer.linkedin": "Suivez-nous sur LinkedIn",

        // Intake Form
        "intake.title.prefix": "Commencez avec",
        "intake.subtitle": "Remplissez le formulaire ci-dessous pour demander un accès anticipé ou planifier une démo.",
        "intake.label.name": "Nom complet",
        "intake.placeholder.name": "Jean Dupont",
        "intake.label.email": "Email professionnel",
        "intake.placeholder.email": "jean@entreprise.com",
        "intake.label.company": "Nom de l'entreprise",
        "intake.placeholder.company": "Acme Inc.",
        "intake.label.role": "Rôle",
        "intake.placeholder.role": "ex: RSSI, CTO",
        "intake.label.interest": "Je suis intéressé par...",
        "intake.option.access": "Demander un accès anticipé",
        "intake.option.demo": "Réserver une démo",
        "intake.option.general": "Demande générale",
        "intake.label.message": "Message (Optionnel)",
        "intake.placeholder.message": "Parlez-nous de vos besoins...",
        "intake.submit": "Envoyer la demande",

        // Demo (Dynamic Strings)
        "demo.loading": "Chargement de la démo...",
        "demo.intro.subtitle": "Gestion des risques en temps réel pour l'IA",
        "demo.intro.start": "Lancer la démo interactive",
        "demo.restart": "Redémarrer la démo",
        "demo.step1": "L'utilisateur s'assure d'avoir l'extension installée",
        "demo.step2": "L'utilisateur tape son prompt",
        "demo.step3": "L'utilisateur envoie le prompt",
        "demo.step4": "Insérer le prompt aseptisé",
        "demo.step4_annotation": "Une fois qu'un prompt est signalé, les utilisateurs peuvent choisir comment avancer. Sanitized Ai permet à l'utilisateur de choisir le niveau de risque qu'il souhaite prendre.",
        "demo.step5": "Une fois que l'utilisateur confirme le remplacement, le prompt est libéré et envoyé.",
        "demo.transition.title": "Vue du Gestionnaire de Risques",
        "demo.transition.subtitle": "Examen des événements de risque anonymes et des insights.",
        "demo.transition.continue": "Continuer",
        "demo.step6": "Les managers de risques peuvent voir les insights de données"
    }
};

function getLanguage() {
    // Detect language from navigator, default to 'en'
    const lang = navigator.language || navigator.userLanguage;
    return lang.startsWith('fr') ? 'fr' : 'en';
}

function applyTranslations() {
    const lang = getLanguage();
    if (lang === 'en') return; // Default is already English

    const content = translations[lang];

    // Apply text content translations
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (content[key]) {
            // Handle elements with specific structures checking for child nodes to preserve
            if (element.children.length > 0 && element.tagName !== 'BUTTON' && element.tagName !== 'SELECT') {
                // For complex elements (like those with spans inside), we might need to target specific text nodes
                // But for this project, we'll try to target the text-only parts via spans or direct mapping
                // If the element has a gradient text span inside, we want to preserve it if it's separate
                // Strategy: replacing text content might wipe out spans (like 'Sanitized Ai' spans).
                // So we will rely on granular data-i18n attributes on the parts that CHANGE.
                element.textContent = content[key];
            } else {
                element.textContent = content[key];
            }
        }
    });

    // Apply placeholder translations
    document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        if (content[key]) {
            element.setAttribute('placeholder', content[key]);
        }
    });

    // Special handling for the demo if it exists
    if (window.demoData) {
        // We need to update the demoData object in place if possible, or trigger a re-render
        // Since demoData is defined in the global scope of index.html, we can modify it
        const demoKeys = {
            1: { hotspots: [{ index: 0, key: 'demo.step1' }] },
            2: { hotspots: [{ index: 0, key: 'demo.step2' }] },
            3: { hotspots: [{ index: 0, key: 'demo.step3' }] },
            4: {
                hotspots: [{ index: 0, key: 'demo.step4' }],
                annotations: [{ index: 0, key: 'demo.step4_annotation' }]
            },
            5: { hotspots: [{ index: 0, key: 'demo.step5' }] },
            'transition-1': { title: 'demo.transition.title', subtitle: 'demo.transition.subtitle' },
            6: { hotspots: [{ index: 0, key: 'demo.step6' }] }
        };

        window.demoData.forEach(step => {
            if (step.id === 'intro') {
                // Intro is handled via DOM elements in the HTML usually, but let's check
            }
            if (demoKeys[step.id]) {
                const config = demoKeys[step.id];
                if (config.hotspots && step.hotspots) {
                    config.hotspots.forEach(h => {
                        if (step.hotspots[h.index]) step.hotspots[h.index].text = content[h.key];
                    });
                }
                if (config.annotations && step.annotations) {
                    config.annotations.forEach(a => {
                        if (step.annotations[a.index]) step.annotations[a.index].text = content[a.key];
                    });
                }
                if (step.type === 'transition') {
                    if (config.title) step.title = content[config.title];
                    if (config.subtitle) step.subtitle = content[config.subtitle];
                }
            }
        });

        // If the demo player is already running, we might need to update the current view?
        // The script runs on DOMContentLoaded, so it should run before the user sees much.
    }
}

document.addEventListener('DOMContentLoaded', applyTranslations);
